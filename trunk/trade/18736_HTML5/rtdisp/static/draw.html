<!DOCTYPE html>
<html>
<head>
	<title>canvas</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script src="/static/common.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script type="text/javascript">
		$(document).ready(function() {
			// jQuery
			var canvas = $('#layer');
			initCommon(canvas);
			VELOCITY = VELOCITY * 3;

			// Socket.io
			if( typeof sock_io_addr != "undefined") {
				var socket=io.connect(sock_io_addr);
				socket.on('receive', function (data) {
					// x3
					var objLen = data.draw.texts.length;
					for (var i=0; i<objLen; i++) {
						var aText = data.draw.texts[i];
						aText.x = aText.x * 3;
						aText.y = aText.y * 3;
						aText.size = aText.size * 3;
					}
					refreshData(data);
				});
				socket.on('requestData', function (requester) {
					//console.log(requester.requester);
					var data = {bgColor : backgroundColor, texts : textObjs, refreshAgain : refreshAgain};
					socket.emit('responseData', {draw: data});
				});
			}	// if socket.io
		});
	</script>
</head>
<body>
	<canvas id="layer" width="1140" height="600" style="position: relative; border: 1px solid #000;">브라우저가 HTML5 Canvas를 지원하지 않습니다.</canvas>
</body>
</html>